<!DOCTYPE html>
<html lang="id | ID">

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>JP666</title>
  <meta name="description" content="Demo Slot OnLine Gacor Abis">

  <link rel="stylesheet" href="/assets/css/main.css">
  <link rel="canonical" href="http://localhost:4000/">

  <link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="JP666" />

  <script type="module" src="/assets/frameworks/@ionic/core/dist/ionic/ionic.esm.js?v=8.0"></script>
  <script nomodule src="/assets/frameworks/@ionic/core/dist/ionic/ionic.js?v=8.0"></script>
  <link rel="stylesheet" href="/assets/frameworks/@ionic/core/css/ionic.bundle.css?v=8.0" />
        <script type="module" src="/assets/frameworks/ionicons/dist/ionicons/ionicons.esm.js"></script>
        <script nomodule src="/assets/frameworks/ionicons/dist/ionicons/ionicons.js"></script>
<style>
#preloader {
  position: fixed;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  background: #fff;
  z-index: 9999;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-direction: column;
}

#loader {
  text-align: center;
}

#logo {
  width: 100%;
  height: 100px;
}

#loading-text {
  margin-top: 20px;
  font-size: 20px;
}
</style>
</head>


  <body>
<div id="preloader">
  <div id="loader">
    <img src="assets/img/logo/logojp666.png" alt="Logo" id="logo">
    <div id="loading-text">Loading <span id="loading-percentage">0%</span></div>
  </div>
</div>
   <ion-app>
  <ion-header>
  <ion-toolbar>
    <ion-title style="padding: 0 20px;">JP666</ion-title>
  </ion-toolbar>
</ion-header>
    <ion-content class="ion-padding">

      <style type="text/css">
#post-grid, #post-list { text-align:center; width:100%; max-width:900px; margin:10px auto 0px; }
ion-thumbnail {
    --border-radius: 14px;
  }
</style>

      <ion-refresher id="refresher" slot="fixed">
        <ion-refresher-content></ion-refresher-content>
      </ion-refresher>

		<div id="post-list" class="grid">
          <!-- Posts will be inserted here -->
        </div>
        <div id="post-grid">
          <!-- Posts will be inserted here -->
        </div>

<script>
    const refresher = document.getElementById('refresher');
    const postGrid = document.getElementById('post-grid');
    const postList = document.getElementById('post-list');

    async function fetchPosts() {
      try {
        const response = await fetch('assets/data/json/slot.json');
        if (!response.ok) {
          throw new Error(`HTTP error! Status: ${response.status}`);
        }
        const posts = await response.json();
        renderPosts(posts);
      } catch (error) {
        console.error('Error fetching posts:', error);
      }
    }

    function renderPosts(posts) {
      postGrid.innerHTML = '';

      // Render the first 4 posts as a grid
      posts.slice(0, 4).forEach(post => {
        const postElement = document.createElement('ion-card');
        postElement.innerHTML = `
            <ion-link onClick='handleCardClick("${post.url}")'>
              <img class='img-fit' src='${post.img}' alt='${post.title}' />
              <ion-card-header>
                <ion-card-title>${post.title}</ion-card-title>
              </ion-card-header>
              <ion-card-content>
                ${post.content}
              </ion-card-content>
            </ion-link>
`;
        postList.appendChild(postElement);
      });

      // Render the remaining posts as a list
      posts.slice(4).forEach(post => {
        const postElement = document.createElement('ion-list');
        postElement.innerHTML = `
  <ion-item onClick="handleCardClick('${post.url}')">
          <ion-thumbnail slot="start">
            <img src="${post.img}" class="ml--16" alt="${post.title}" />
          </ion-thumbnail>
          <ion-label class="pl-10">
            <h2>${post.title}</h2>
            <p>${post.content}</p>
          </ion-label>
  </ion-item>
        `;
        postGrid.appendChild(postElement);
      });
    }

    refresher.addEventListener('ionRefresh', async () => {
      await fetchPosts();
      refresher.complete();
    });

    fetchPosts();

function handleCardClick(url) {
  window.location.href = url;
}
</script>


    </ion-content>
   </ion-app>
<script>
  document.addEventListener("DOMContentLoaded", function() {
    let percentage = 0;
    const loadingText = document.getElementById('loading-percentage');
    const preloader = document.getElementById('preloader');

    const interval = setInterval(() => {
      percentage += 1;
      loadingText.textContent = `${percentage}%`;
      if (percentage >= 100) {
        clearInterval(interval);
        preloader.style.display = 'none';
      }
    }, 50); // Adjust the interval time as needed
  });
</script>
  </body>

</html>
